<div class="actions">
  <svg
    (click)="onMailActionClick('get')"
    width="16px"
    height="16px"
    viewBox="0 0 16 16"
    version="1.1"
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
  >
    <title>Get new messages in all accounts</title>
    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
      <rect id="Rectangle" x="0" y="0" width="16" height="16"></rect>
      <path
        d="M10.0465135,8.65944661 L14.8966974,13.591676 C14.5074105,13.8497135 14.0404867,14 13.5384615,14
          L2.46153846,14 C1.95951332,14 1.49258949,13.8497135 1.10330256,13.591676 L5.95251354,8.65944661
          L6.77616134,9.48326812 L6.89962756,9.59552956 C7.57954063,10.1568368 8.58769049,10.1194163
          9.22383866,9.48326812 L9.22383866,9.48326812 L10.0465135,8.65944661 Z M0.403640265,3.1103952
          L5.24451354,7.95244661 L0.398316606,12.881478 C0.146405003,12.4952662 -1.01180425e-16,12.0339612
          0,11.5384615 L0,4.46153846 C-6.11074168e-17,3.96255854 0.148468837,3.49825537 0.403640265,3.1103952 Z
          M16,4.46153846 L16,11.5384615 C16,12.0339612 15.853595,12.4952662 15.6016834,12.881478 L10.7535135,7.95244661
          L15.5963597,3.1103952 C15.8515312,3.49825537 16,3.96255854 16,4.46153846 Z M13.5384615,2 C14.0374415,2
          14.5017446,2.14846884 14.8896048,2.40364026 L8.51673188,8.77616134 L8.43477033,8.84691749
          C8.14868733,9.05918594 7.74270734,9.03560056 7.48326812,8.77616134 L7.48326812,8.77616134
          L1.1103952,2.40364026 C1.49825537,2.14846884 1.96255854,2 2.46153846,2 L13.5384615,2 Z"
        fill="#646566"
      ></path>
    </g>
  </svg>

  <svg
    (click)="onMailActionClick('create')"
    width="16px"
    height="16px"
    viewBox="0 0 16 16"
    version="1.1"
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
  >
    <title>Create new email</title>
    <g id="Message" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
      <rect id="Rectangle" x="0" y="0" width="16" height="16"></rect>
      <path
        d="M14.125,13 C14.6082492,13 15,13.3917508 15,13.875 L15,14.125 C15,14.6082492 14.6082492,15 14.125,15
          L1.875,15 C1.39175084,15 1,14.6082492 1,14.125 L1,13.875 C1,13.3917508 1.39175084,13 1.875,13 L14.125,13 Z
          M3.43784455,8.5 L6,11.0620649 L3.96395271,11.6076878 C3.81558259,11.6474482 3.65935996,11.6474501
          3.51098889,11.6076933 C3.04420679,11.4826164 2.76719998,11.0028199 2.89227685,10.5360378
          L2.89227685,10.5360378 L3.43784455,8.5 Z M13.4935387,1.47817696 C14.1212011,2.08930812 14.2042646,3.24579861
          13.522847,3.90926915 L6.99685404,10 L4.5,7.56899376 L11.0259929,1.47817696 C11.7074105,0.814706422
          12.8658762,0.867045795 13.4935387,1.47817696 Z"
        fill="#646566"
      ></path>
    </g>
  </svg>

  <!-- TODO: Implement when folders are done -->
  <!-- <svg
    (click)="onMailActionClick('archive')"
    width="16px"
    height="16px"
    viewBox="0 0 16 16"
    version="1.1"
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
  >
    <title>Archive selected messages</title>
    <g id="Message" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
      <rect id="Rectangle" x="0" y="0" width="16" height="16"></rect>
      <path
        d="M12.5,5 C13.0522847,5 13.5,5.44771525 13.5,6 L13.5,12 C13.5,12.5522847 13.0522847,13 12.5,13 L3.5,13
          C2.94771525,13 2.5,12.5522847 2.5,12 L2.5,6 C2.5,5.44771525 2.94771525,5 3.5,5 L12.5,5 Z
          M9.95664885,6.55311118 L6.1495735,6.55311118 C5.87343113,6.55311118 5.6495735,6.7769688 5.6495735,7.05311118
          C5.6495735,7.32925355 5.87343113,7.55311118 6.1495735,7.55311118 L6.1495735,7.55311118 L9.95664885,7.55311118
          C10.2327912,7.55311118 10.4566489,7.32925355 10.4566489,7.05311118 C10.4566489,6.7769688 10.2327912,6.55311118
          9.95664885,6.55311118 L9.95664885,6.55311118 Z M14,2 C14.5522847,2 15,2.44771525 15,3 C15,3.55228475
          14.5522847,4 14,4 L2,4 C1.44771525,4 1,3.55228475 1,3 C1,2.44771525 1.44771525,2 2,2 L14,2 Z"
        fill="#646566"
      ></path>
    </g>
  </svg> -->

  <div class="separator"></div>
  <svg
    (click)="onMailActionClick('delete')"
    width="16px"
    height="16px"
    viewBox="0 0 16 16"
    version="1.1"
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
  >
    <title>Delete selected messages</title>
    <g id="Message" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
      <rect id="Rectangle" x="0" y="0" width="16" height="16"></rect>
      <path
        d="M9.7517757,1 C10.3271028,1 10.8026168,1.4418395 10.8564486,2.02713337 L10.8564486,2.02713337
          L10.9147664,3.2952701 L13.6074766,3.2952701 C13.8250467,3.2952701 14,3.47430117 14,3.69694237 C14,3.91843594
          13.8250467,4.09746701 13.6074766,4.09746701 L13.6074766,4.09746701 L12.8392523,4.09746701
          L11.8411215,13.7123535 C11.7738318,14.4456923 11.1760748,15 10.4527103,15 L10.4527103,15 L5.54841121,15
          C4.82504673,15 4.22728972,14.4456923 4.1588785,13.7077629 L4.1588785,13.7077629 L3.16186916,4.09746701
          L2.39252336,4.09746701 C2.17607477,4.09746701 2,3.91843594 2,3.69694237 C2,3.47430117 2.17607477,3.2952701
          2.39252336,3.2952701 L2.39252336,3.2952701 L5.08635514,3.2952701 L5.1435514,2.04549553 C5.19962617,1.4418395
          5.67401869,1 6.2482243,1 L6.2482243,1 Z M8.00056075,5.59099926 C7.78411215,5.59099926 7.60803738,5.77003033
          7.60803738,5.9915239 L7.60803738,11.7296992 C7.60803738,11.9523404 7.78411215,12.1313714 8.00056075,12.1313714
          C8.21700935,12.1313714 8.39308411,11.9523404 8.39308411,11.7296992 L8.39308411,5.9915239
          C8.39308411,5.77003033 8.21700935,5.59099926 8.00056075,5.59099926 Z M10.6922165,5.5921469
          C10.4667959,5.57378474 10.2839922,5.73330601 10.2626838,5.95135667 L9.70193612,11.6895319
          C9.6806277,11.9110255 9.83763705,12.1072711 10.0529642,12.1302238 C10.0664221,12.1313714 10.07988,12.1313714
          10.0922165,12.1313714 C10.2918427,12.1313714 10.4623099,11.9764407 10.4836184,11.771014 L11.044366,6.03283876
          C11.0645529,5.81134519 10.9086651,5.61395196 10.6922165,5.5921469 Z M5.35408539,5.5921469
          C5.1376368,5.61395196 4.98062745,5.81134519 5.00193586,6.03283876 L5.56268352,11.771014 C5.58287044,11.9775883
          5.75333773,12.1313714 5.9529639,12.1313714 C5.96642184,12.1313714 5.97875829,12.1313714 5.99221624,12.1302238
          C6.20866483,12.1072711 6.36567418,11.9110255 6.34436577,11.6895319 L5.7836181,5.95135667
          C5.76230969,5.73101074 5.568291,5.57148947 5.35408539,5.5921469 Z M9.7517757,1.8021969 L6.2482243,1.8021969
          C6.0811215,1.8021969 5.94317757,1.93187966 5.92635514,2.10287729 L5.92635514,2.10287729 L5.87252336,3.2952701
          L10.1297196,3.2952701 L10.0736449,2.08336749 C10.0590654,1.93187966 9.92,1.8021969 9.7517757,1.8021969
          L9.7517757,1.8021969 Z"
        fill="#646566"
      ></path>
    </g>
  </svg>

  <div class="separator"></div>
  <!-- TODO: Implement when folders are done -->
  <!-- <svg
    (click)="onMailActionClick('junk')"
    width="16px" height="16px"
    viewBox="0 0 16 16"
    version="1.1"
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
  >
    <title>Move selected messages to junk</title>
    <g id="Message" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
      <path
        d="M12.3788734,5 C12.9311582,5 13.3788734,5.44771525 13.3788734,6 C13.3788734,6.03803891 13.376703,6.07604683
          13.3723727,6.11383846 L12.6848727,12.1138385 C12.6270154,12.6187744 12.1996133,13 11.6913734,13 L4.3086266,13
          C3.80038671,13 3.37298457,12.6187744 3.31512732,12.1138385 L2.62762732,6.11383846 C2.56475608,5.56514396
          2.95859364,5.06937197 3.50728814,5.00650073 C3.54507977,5.00217044 3.58308769,5 3.6211266,5 L12.3788734,5 Z
          M9.39911558,7 L8,8.399 L6.60088442,7 L6,7.60088442 L7.399,9 L6,10.3991156 L6.60088442,11 L8,9.6 L9.39911558,11
          L10,10.3991156 L8.6,9 L10,7.60088442 L9.39911558,7 Z M14,2 C14.5522847,2 15,2.44771525 15,3 C15,3.55228475
          14.5522847,4 14,4 L2,4 C1.44771525,4 1,3.55228475 1,3 C1,2.44771525 1.44771525,2 2,2 L14,2 Z"
        fill="#646566"
      ></path>
      <rect id="Rectangle" x="0" y="0" width="16" height="16"></rect>
    </g>
  </svg> -->

  <svg
    (click)="onMailActionClick('reply')"
    class="left"
    width="16px"
    height="16px"
    viewBox="0 0 16 16"
    version="1.1"
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
  >
    <title>Reply to sender of selected messages</title>
    <g id="Message" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
      <g id="left" transform="scale(-1, 1)">
        <rect id="bound" x="0" y="0" width="16" height="16"></rect>
        <path
          d="M7.10471521,1 L7.10599391,4.63045376 C9.36185632,4.84348307 11.1136685,5.55231882 12.3614303,6.756961
            C14.1660877,8.49925376 15.3789443,10.9136001 16,14 C15.1130031,12.1616885 13.9846019,10.9143622
            12.6147962,10.2580213 C11.3446513,9.64943265 9.50836649,9.37714737 7.10594168,9.4411654
            L7.10471521,13.6845255 L0,7.34226273 L7.10471521,1 Z"
          fill="#646566"
          transform="scale(-1, 1)"
        ></path>
      </g>
    </g>
  </svg>

  <div class="separator"></div>
  <svg
    (click)="onMailActionClick('reply-all')"
    width="20px"
    height="16px"
    viewBox="0 0 20 16"
    version="1.1"
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
  >
    <title>Reply to all recepients of teh selected message</title>
    <g id="Message" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
      <rect id="Rectangle" x="0" y="0" width="20" height="16"></rect>
      <path
        d="M10.1135146,1 L10.1148162,4.85917897 C12.4861092,5.08809107 14.3284819,5.84044932 15.6419341,7.11625371
          C17.5475859,8.96728319 18.8283178,11.5323092 19.4841297,14.8113317 C18.5474937,12.858291 17.3559435,11.5331189
          15.9094792,10.8358156 C14.572352,10.1912209 12.6410502,9.90173775 10.115574,9.9673661 L10.1135146,14.4761684
          L2.33333333,7.7380842 L10.1135146,1 Z"
        fill="#646566"
      ></path>
      <polygon
      id="Path-29"
      fill-opacity="0.3"
      fill="#646566"
      points="0 7.7380842 7.78018126 14.4761684 7.78018126 1"
      ></polygon>
    </g>
  </svg>

  <div class="separator"></div>
  <svg
    (click)="onMailActionClick('forward')"
    width="16px"
    height="16px"
    viewBox="0 0 16 16"
    version="1.1"
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
  >
    <title>Forward selected messages</title>
    <g id="Message" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
      <rect id="bound" x="0" y="0" width="16" height="16"></rect>
      <path
        d="M7.10471521,1 L7.10599391,4.63045376 C9.36185632,4.84348307 11.1136685,5.55231882 12.3614303,6.756961
          C14.1660877,8.49925376 15.3789443,10.9136001 16,14 C15.1130031,12.1616885 13.9846019,10.9143622
          12.6147962,10.2580213 C11.3446513,9.64943265 9.50836649,9.37714737 7.10594168,9.4411654 L7.10471521,13.6845255
          L0,7.34226273 L7.10471521,1 Z"
        fill="#646566"
        transform="scale(-1, 1)"
      ></path>
    </g>
  </svg>

  <!-- TODO: Add flag chat functionality after BE implemented -->
  <!-- <svg
    (click)="onMailActionClick('flag')"
    [style.color]="flagColor"
    width="16px"
    height="16px"
    viewBox="0 0 16 16"
    version="1.1"
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
  >
    <title>Flag selected messages</title>
    <g id="Message" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
      <rect id="Rectangle" x="0" y="0" width="16" height="16"></rect>
      <path
        d="M2,2.96347751 C2,2.30725794 2.42655627,1.72721593 3.05295492,1.53164278 L3.05295492,1.53164278
          L3.95723839,1.24930889 C5.10369223,0.891364963 6.33593194,0.919527412 7.46483589,1.32947392
          L7.46483589,1.32947392 L9.09434518,1.92120862 C9.97877429,2.24237733 10.9369774,2.3020842
          11.8544352,2.09319337 L11.8544352,2.09319337 L12.7921893,1.87968138 C12.8650259,1.86309763
          12.9394914,1.85472742 13.0141921,1.85472742 C13.5664768,1.85472742 14.0141921,2.30244267 14.0141921,2.85472742
          L14.0141921,2.85472742 L14.0141921,9.5739372 C14.0141921,9.99543348 13.7499031,10.3716767 13.3533962,10.51465
          L13.3533962,10.51465 L12.1350386,10.9539678 C11.0202019,11.3559579 9.79367444,11.315248 8.707947,10.8402186
          L8.707947,10.8402186 L7.86417614,10.4710505 C6.45236208,9.8533511 4.86817407,9.75229833 3.38931794,10.1856066
          L3.38931794,10.1856066 L3,10.299 L3,14.5796202 C3,14.8557625 2.77614237,15.0796202 2.5,15.0796202
          C2.25454011,15.0796202 2.05039163,14.902745 2.00805567,14.6694958 L2,14.5796202 Z"
        fill="currentColor"
        fill-rule="nonzero"
      ></path>
    </g>
  </svg>

  <div class="separator"></div>
  <div class="flag-color__wrapper" #flagColorAction (click)="onMailActionClick('flag-color')">
    <svg
      class="flag-color__icon"
      width="6px"
      height="3px"
      viewBox="0 0 6 2"
      version="1.1"
      xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink"
    >
      <title>Change flag color</title>
      <g
        id="Message"
        stroke="none"
        stroke-width="1"
        fill="none"
        fill-rule="evenodd"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <g id="2.0-Message-Mail" transform="translate(-1086.000000, -691.000000)" stroke="#646566">
          <polyline id="dropdown" points="1087 691 1089 693 1091 691"></polyline>
        </g>
      </g>
    </svg>
  </div> -->

  <ng-container *ngIf="isNotificationsDisabled(activeChat)">
    <svg
      (click)="onMailActionClick('notification')"
      class="notification"
      xmlns="http://www.w3.org/2000/svg"
      width="16"
      height="16"
      viewBox="0 0 16 16"
    >
      <title>Turn on notifications for selected messages</title>
      <g fill="none" fill-rule="evenodd">
        <rect width="16" height="16"/>
        <path
          fill="#646566"
          fill-rule="nonzero"
          d="M8.00097514,16 C8.87108553,16 9.58299403,15.2615385 9.58299403,14.3589744 L6.41895624,14.3589744
          C6.41895624,15.2615385 7.12295465,16 8.00097514,16 Z M12.7470318,10.0769231 L12.7470318,6.97435897
          C12.7470318,4.45538462 11.4497763,2.34666667 9.18748931,1.78871795 L9.18748931,1.23076923
          C9.18748931,0.54974359 8.65751298,0 8.00097514,0 C7.34443729,0 6.81446096,0.54974359 6.81446096,1.23076923
          L6.81446096,1.78871795 C4.54426385,2.34666667 3.25491845,4.44717949 3.25491845,6.97435897
          L3.25491845,10.0769231 L2.23451626,11.1353846 C1.7361803,11.6523077 1.08422446,13.5384615
          1.78822287,13.5384615 L14.2058173,13.5384615 C14.9098157,13.5384615 14.26577,11.6523077 13.767434,11.1353846
          L12.7470318,10.0769231 Z"
        />
      </g>
    </svg>
  </ng-container>

  <ng-container *ngIf="!isNotificationsDisabled(activeChat)">
    <svg
      (click)="onMailActionClick('notification')"
      class="notification notification-crossed"
      xmlns="http://www.w3.org/2000/svg"
      width="16"
      height="16"
      viewBox="0 0 16 16"
    >
      <title>Turn off notifications for selected messages</title>
      <g fill="none" fill-rule="evenodd">
        <rect width="16" height="16"/>
        <path
          fill="#646566"
          fill-rule="nonzero"
          d="M9.58299403 14.3589744C9.58299403 15.2615385 8.87108553 16 8.00097514 16 7.12295465 16 6.41895624
            15.2615385 6.41895624 14.3589744L6.41895624 14.3589744zM3.40544836 5.52611879L11.4163948 13.538 1.78822287
            13.5384615C1.1123844 13.5384615 1.68619336 11.8001822 2.17407518 11.2037793L2.23451626 11.1353846 3.25491845
            10.0769231 3.25491845 6.97435897C3.25491845 6.47181541 3.30590369 5.98614375 3.40544836
            5.52611879zM8.00097514 0C8.65751298 0 9.18748931.54974359 9.18748931 1.23076923L9.18748931 1.23076923
            9.18748931 1.78871795C11.4497763 2.34666667 12.7470318 4.45538462 12.7470318 6.97435897L12.7470318
            6.97435897 12.7470318 10.0769231 13.767434 11.1353846C13.9699638 11.3454685 14.1965607 11.7817094 14.3469526
            12.2255816L4.91206056 2.79257894C5.43400781 2.31890229 6.07174215 1.97125673 6.81446096
            1.78871795L6.81446096 1.78871795 6.81446096 1.23076923C6.81446096.54974359 7.34443729 0 8.00097514
            0zM.784305503.0885911588L.853553391.146446609 15.8535534 15.1464466C16.0488155 15.3417088 16.0488155
            15.6582912 15.8535534 15.8535534 15.679987 16.0271197 15.4105626 16.0464049 15.2156945 15.9114088L15.1464466
            15.8535534.146446609.853553391C-.0488155365.658291245-.0488155365.341708755.146446609.146446609.320012961-
            .0271197425.589437362-.0464048927.784305503.0885911588z"
        />
      </g>
    </svg>
  </ng-container>
</div>

<ng-template #flagColorMenu>
  <div class="message-menu__header">
    <div class="message-menu__title">
      {{ 'flag color' | uppercase }}
    </div>
    <div class="message-menu__close" (click)="onCloseMenu(flagColorMenu)">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="-0.2 -0.2 20 20">
        <path
          fill="currentColor"
          d="M9.75 0c5.385 0 9.75 4.365 9.75 9.75s-4.365 9.75-9.75 9.75S0 15.135 0 9.75 4.365 0 9.75 0zm4.303
            5.447c-.325-.324-.833-.354-1.19-.088l-.103.088-3.01
            3.01-3.01-3.01-.102-.088c-.358-.266-.866-.236-1.19.088-.358.357-.358.936 0 1.293l3.009 3.01-3.01
            3.01-.081.094c-.273.358-.246.871.081 1.199.325.324.833.354 1.19.088l.103-.088 3.01-3.011
            3.01 3.01.102.09c.358.265.866.235 1.19-.09.358-.356.358-.935
            0-1.292l-3.01-3.01 3.01-3.01.082-.094c.273-.358.246-.871-.081-1.199z"
        />
      </svg>
    </div>
  </div>
  <div class="message-menu__buttons">
    <button
      *ngFor="let flag of flagColors"
      class="message-menu__button"
      mat-menu-item (click)="onFlagColorSelected(flag)"
    >
      <div class="color-block" [style.backgroundColor]="flag.color"></div>
      <div class="color-name">{{ flag.name }}</div>
    </button>
  </div>
</ng-template>
