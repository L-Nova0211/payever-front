@import '../../../../../ui/src/lib/components/theming/theming';

$dark-theme: peb-theme-choose('dark');
$light-theme: peb-theme-choose('light');
$transparent-theme: peb-theme-choose('transparent');

@mixin datepicker($theme-config) {
  $accent: map-get($theme-config, accent);
  $background: map-get($theme-config, background);
  $content: map-get($theme-config, content);
  $text-color: map-get($theme-config, text-color);

  .mat-dialog-container[id^="mat-dialog-"] {
    background-color: $background;

    .mat-calendar-header,
    .mat-calendar-content { background-color: $content; }

    .mat-calendar-previous-button,
    .mat-calendar-period-button,
    .mat-calendar-next-button,
    .mat-calendar-table-header,
    .mat-calendar-body-label,
    .mat-calendar-body-cell-content {
      background-color: transparent;
      color: $text-color;
      &.mat-calendar-body-selected {
        background-color: $accent;
      }
    }
    .mat-calendar-body-cell {
      &:not(.mat-calendar-body-disabled) {
        .mat-calendar-body-cell-content {
          &:hover {
            background-color: $accent;
          }
        }
      }
    }
  }
}

.datepicker {
  .mat-dialog-container[id^="mat-dialog-"] {
    border-radius: 1em;
    padding: 1em;
  
    .mat-calendar-header {
      border-radius: 0.75em 0.75em 0 0;
      margin-bottom: 1px;
      padding: 0.125em 0;
    }
  
    .mat-calendar-controls {
      align-items: center;
      justify-content: space-between;
      margin: 0;
  
      .mat-calendar-arrow { display: none; }
    }
  
    .mat-calendar-previous-button { order: 1; }
    .mat-calendar-period-button { order: 2; }
    .mat-calendar-next-button { order: 3; }
    .mat-calendar-spacer { display: none; }
    .mat-calendar-content {
      border-radius: 0 0 0.75em 0.75em;
      padding: 8px 0 0 0;
    }
  
    .mat-calendar-table-header-divider::after {
      background: #979797;
      opacity: 0.3;
      left: 0;
      right: 0;
    }
  
    .mat-calendar-table-header {
      th { padding-bottom: 8px; }
    }
  
    .mat-calendar-body-cell {
      .mat-calendar-body-cell-content {
        border: none;
        border-radius: 8px;
  
        &.mat-calendar-body-today {
          border: unset;
        }
      }
  
      &.mat-calendar-body-disabled {
        .mat-calendar-body-cell-content {
          color: #78787d;
        }
      }
  
      &:not(.mat-calendar-body-disabled) {
        .mat-calendar-body-cell-content {
          &:hover{
            border-radius: 8px;
          }
        }
      }
    }
  
    .mat-calendar-previous-button[disabled],
    .mat-calendar-next-button[disabled] {
      color: #78787d;
    }
  }
  
  &.light {
    @include datepicker($light-theme);
  }
  &.dark {
    @include datepicker($dark-theme);
  }
  &.transparent {
    @include datepicker($transparent-theme);
  }
}
