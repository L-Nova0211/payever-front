<peb-form-background [formGroup]="form">
    
    <div class="dark">
        <peb-select
            formControlName="selectedFolder"
            [label]="'contacts-app.group_modal.select_group' | translate"
            [selected]="form.controls.selectedFolder.value"
            [isFieldInvalid]="selectedFolderInvalid"
            errorMessage="{{'contacts-app.group_modal.select_folder_required' | translate}}"
            placeholder="Folder name"
            selectType="label">
      
            <peb-select-option
                    *ngFor="let folder of foldersData$ | async"
                    [label]="folder.name"
                    [value]="folder._id">
            </peb-select-option>
            
        </peb-select>

            <div class="new-group">
                <div class="input-with-label" [class.is-invalid]="folderNameInvalid" >
                <span class="label-text">
                        {{ folderNameInvalid ? folderNameErrorMessage : folderNameLabel | translate }}
                </span>
                <input 
                    formControlName="folderName" 
                    type="text" 
                    (input)="onFolderInputFocus" 
                    (blur)="onFolderInputUnfocus"
                />
            </div>
            <div class="button-container">
            <button peb-text-button color="confirm" (click)="addFolder()">
                {{'contacts-app.group_modal.add_new_group' | translate}}
            </button>
            </div>
        </div>
    </div>

</peb-form-background>